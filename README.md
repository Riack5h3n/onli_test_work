# Тестовое задания для Onli

Задача: В компании предусмотрена возможность выбора служебного автомобиля для служебной поездки из не занятых другими сотрудниками. В административной части корпоративного сайта необходимо будет размещать актуальную информацию о доступных для конкретного сотрудника автомобилях на запланированное время поездки.
Дополнительные условия:
- каждая модель автомобиля имеет определенную категорию комфорта (первая, вторая, третья...);
- для определенной должности сотрудников доступны только автомобили определенной категории комфорта (одной или нескольких категорий);	
- за каждым автомобилем закреплён свой водитель.
1. Нужно написать миграции для создания необходимого количества таблиц в базе данных, установить связи между ними;
2. Реализовать API метод получения списка доступных текущему пользователю на запланированное время автомобилей с возможностью фильтрации по модели автомобиля, по категории комфорта;

-----------------------------------------

Установка 

git clone https://github.com/riack5h3n/onli_test_work.git

composer install

создаем базу данных (onli_test_work)

копируем файл .env с помошю команды

cp .env.example .env

изменаем данние внутри файла (DB_DATABASE=onli_test_work)

php artisan key:generate

php artisan migrate

php artisan db:seed

php artisan serve

-----------------------------------------

Авторизация (POST запрос)

/api/login

{

  "email": "admin@mail.ru",
  
  "password": "123456",
  
}

Получаем {Token}

----------------------------------------- 

Получения список свободних авто (GET запрос)

/api/getCars

Authorization: Bearer {Token}

{ 

  "staff_id": "1",
  
  "start_time": "2025-08-04 08:00:00",
  
  "end_time": "2025-08-05 08:00:00",
  
  "model": "Matiz",
  
  "car_comfort_class_id": "1",

}

PS: В таблице `staffs` можна изменит должность сотрудника.

-----------------------------------------

Бронирования (POST запрос)

/api/newTrip

Authorization: Bearer {Token}

{
  
  "staff_id": "1",
  
  "car_id": "1",
  
  "start_time": "2025-08-04 08:00:00",
  
  "end_time": "2025-08-05 08:00:00",
  
  "destination": "Andijon, Toshkent",
  
}
